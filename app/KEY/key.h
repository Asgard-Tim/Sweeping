// key.h
#ifndef __KEY_H
#define __KEY_H

#include "stm32f4xx_hal.h"

/* ?????? */
typedef enum {
    KEY_ACTIVE_LOW = 0,  // ?????(?????GND)
    KEY_ACTIVE_HIGH      // ?????(?????VCC)
} Key_ActiveMode;

/* ???? */
typedef enum {
    KEY_STATE_RELEASED = 0,
    KEY_STATE_PRESSED,
    KEY_STATE_JUST_PRESSED,   // ??????(????)
    KEY_STATE_JUST_RELEASED   // ??????(????)
} Key_State;

/* ??????? */
typedef struct {
    GPIO_TypeDef *GPIOx;      // GPIO??(?GPIOD)
    uint16_t GPIO_Pin;        // ???(?GPIO_PIN_11)
    Key_ActiveMode ActiveMode; // ????
    Key_State CurrentState;    // ????
    uint32_t LastTick;        // ????????(????)
} Key_HandleTypeDef;

/* ???? */
void Key_Init(Key_HandleTypeDef *key);
void Key_Update(Key_HandleTypeDef *key);
Key_State Key_GetState(Key_HandleTypeDef *key);

#endif /* __KEY_H */